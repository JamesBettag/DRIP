<% if(typeof graphData != 'undefined'){ %>
  <% console.log('hello') %> 
  <% index = 0 %>
  <% for(index; index < numCanvas; index++) { %> 
    <script>
      var ctx = document.getElementById('myChart<%= index %>').getContext('2d');
      // VS will show an error in the code in the next line but the code works
      var chart<%= index %> = new Chart( ctx, <%- JSON.stringify(graphData[index]) %> );
    </script>
  <% } %> 
<% } else { %>
  <script>
    // placeholder for empty data titles 'no active devices'
    // decide on what to display if there are no active devices
    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {
      // The type of chart we want to create
      type: 'line',

      // The data for our dataset
      data: {
        labels: "",
        datasets: [{
            label: 'No Active Devices',
            backgroundColor: '#00ADB4',
            borderColor: '#00ADB4',
            pointBackgroundColor: '#77C425',
            pointBorderColor: '#77C425',
            data: []
        }]
    },
    // Configuration options go here
      options: {}
    });
  </script>
<% } %> 

